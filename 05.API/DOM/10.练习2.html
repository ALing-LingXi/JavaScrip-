<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div>
    <form action="#">
      <div>
        请选择你的爱好：
        <input type="checkbox" id="check-all" /> 全选
      </div>
      <div>
        <input type="checkbox" name="hobby" value="乒乓球" /> 乒乓球
        <input type="checkbox" name="hobby" value="篮球" /> 篮球
        <input type="checkbox" name="hobby" value="羽毛球" /> 羽毛球
        <input type="checkbox" name="hobby" value="足球" /> 足球
      </div>
      <div>
        <button type="button" id="all">全选</button>
        <button type="button" id="no">取消</button>
        <button type="button" id="reverse">返选</button>
        <button type="button" id="send">提交</button>
      </div>
    </form>
  </div>
  <script>
    const hobby = document.getElementsByName('hobby')
    const allbutton = document.getElementById('all')
    const allinput = document.getElementById('check-all')
    const deletebutton = document.getElementById('no')
    const reverse = document.getElementById('reverse')
    const submit = document.getElementById('send')
    allbutton.onclick = function () {
      for (let i = 0; i < hobby.length; i++) {
        hobby[i].checked = true
      }
      allinput.checked = true
    }
    deletebutton.onclick = function () {
      for (let i = 0; i < hobby.length; i++) {
        hobby[i].checked = false
      }
      allinput.checked = false
    }
    reverse.onclick = function () {
      for (let i = 0; i < hobby.length; i++) {
        hobby[i].checked = !hobby[i].checked
        const trueChecked = document.querySelectorAll('[name=hobby]:checked')
        if (trueChecked.length === hobby.length) {
          allinput.checked = true
        }
        else {
          allinput.checked = false
        }
      }
    }
    allinput.onclick = function () {
      for (let i = 0; i < hobby.length; i++) {
        hobby[i].checked = allinput.checked
        // hobby[i].checked = this.checked
        //响应函数绑定谁this就指向谁，箭头函数除外
      }
      // alert(this)
    }
    submit.onclick = function () {
      for (let i = 0; i < hobby.length; i++) {
        // if (hobby[i].checked === true) { alert(hobby[i].value) }
        hobby[i].checked && alert(hobby[i].value)
      }
    }
    for (let i = 0; i < hobby.length; i++) {
      hobby[i].onclick = function () {
        const trueChecked = document.querySelectorAll('[name=hobby]:checked')
        if (trueChecked.length === hobby.length) {
          allinput.checked = true
        }
        else {
          allinput.checked = false
        }
      }
    }
  </script>
</body>

</html>